---
title: Building a Hybrid MRS for Spotify
---

## AC209A Data Science Final Project

Group 9. Chuqiao Yuan, Feiyu Chen, Queena Ziyi Zhou, Rong Liu

### Motivation and Overview

There are many leading music streaming services in the market, including Spotify, Pandora, and Apple Music. Thus, a robust Music Recommender System (MRS) is in high demand to improve user experience and increase user engagement. Many researchers have focused their work on traditional recommender systems, but MSR differs from these recommender systems because the duration of a song is short (3~5 minutes), the total number of existing songs is large (tens of millions), and songs are consumed in sessions, among which the same user’s taste may change.


In the early stage, we read a wide range of papers on recommendation systems, which introduce to us the popular approaches in this field, including Collaborative Filtering. More detail will be discussed in the later 'Literature Review' section. Moreover, our EDA results lead us to utilize playlist names, song emotions, and song genres in our model.

- **Goal**: ​Our goal is to build a robust MRS to recommend songs to the users given a set of songs the users have been listened to.
- **Approach**: W​e would like to hybridize two models: 1) Collaborative filtering, recommending songs based on similar users’ past preferences; 2) Content-based recommendation, using NLP techniques on song titles and lyrics to detect mood, and analyzing sound features to detect genre.

### Challenges and Solutions

#### 1. Data Size

MPD, MSD, and Lyrics Wiki all contain massive size of data. We want to use as much data as possible to produce better results, but fitting models on massize datasets will require excessive time and computer memory. 

We combine each set of playlists with the same title into a meta-playlist. Each meta-playlist contains all the songs from the sub-playlists, and keeps track of the number of times each song appears in all the sub-playlists. Moreover, we filter out songs that appear in fewer than five playlists to shrink our dataset without losing important information.

#### 2. Evaluation

At the end of our model training, we need to find a reasonable way to assess how robust our model is. In other words, we want to know if the recommended playlists generated by our model will be used by the actual users.

We generate a validation set of 5000 playlist, using the last 100 songs from each of the playlists as the ground truth output, and using the rest as the validation input. The validation set is carefully chosen so that the validation input length is about evenly distributed among zero to 150 songs. We use the two commonly used metrics for recommendation system: Precision and Normalized Discounted Cumulative Gain. We also introduce number of clicks, a metric that Spotify uses.

#### 3. Cold Start

A general challenge in the recommender system is called Cold Start Problem. In our Spotify’s case, we need to decide how to recommend a full list of songs for those users who have listened to only a few songs or even no song at all.

We will recommend solely based on the collaborative filtering model, assigning equal weight to all the users in the model.


### Literature Review

### References
- https://recsys-challenge.spotify.com/rules